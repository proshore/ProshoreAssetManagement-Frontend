import{B as b,v as y}from"./validatePassword.9751c04b.js";import{A as x,B as P}from"./BaseAlert.6a67cc3f.js";import{_ as v,o as n,c as l,a as s,n as C,r as u,b as d,m as S,f as i,v as w,q as f,t as h,g}from"./index.746d3dfe.js";const R="",V="",k={EMAIL_URL:R,REGISTER_URL:V},B=async t=>await x.post(k.REGISTER_URL,t),T={props:{seen:{type:Boolean,required:!0}}},U={class:"icon"};function E(t,e,c,_,o,a){return n(),l("div",U,[s("i",{class:C(`bi ${c.seen?"bi-eye-fill":"bi-eye-slash-fill"}`),id:"showPassword",onClick:e[0]||(e[0]=m=>t.$emit("clicked")),"data-cy":"toggle-seen"},null,2)])}const A=v(T,[["render",E]]),F={data(){return{email:"",name:"",password:{value:"",error:"",seen:!1},cpassword:{value:"",error:"",seen:!1},submission:{message:"",isVerified:!1}}},components:{BaseInput:b,BaseAlert:P,TogglePassword:A},mounted(){this.email=this.$route.query.email,this.name=this.$route.query.name},methods:{validateField(t){if(t==="password"){let e=y(this.password.value);this.password.error=e.errorMessage}t==="cpassword"&&(this.password.value!=this.cpassword.value?this.cpassword.error="Passwords should match":this.cpassword.error="")},toggleSeen(t){t=="cpassword"&&(this.cpassword.seen=!this.cpassword.seen),t=="password"&&(this.password.seen=!this.password.seen),console.log(this.password.seen)},async handleSubmit(){if(this.validateField("cpassword"),!this.password.value&&!this.cpassword.value){this.submission.message="Password must be provided";return}if(this.password.value!=this.cpassword.value){this.validateField("cpassword"),this.submission.message="Passwords are not same";return}if(!this.password.error&&!this.cpassword.error){try{const t=await B(this.formData());this.submission={message:"Registered Successfully",isVerified:!0},console.log("response:",t),setTimeout(()=>this.$router.push({name:"login"}),2e3)}catch(t){this.submission.message=t}return}else this.submission.message="The form is not filled properly"},formData(){return{data:{name:this.name,email:this.email,password:this.password.value},token:"1bxXVTgMmdgiClqXZ8Rdmg"}}}},M={class:"container-fluid d-flex justify-content-center"},q={class:"row w-100 main-container p-3"},D=s("section",{class:"d-none d-lg-block col-lg-5 register-img"},null,-1),I={class:"col-12 col-lg-6 mx-xl-5 d-flex justify-content-center align-items-center"},L={class:"register-form-container"},N=s("div",{class:"register-head"},[s("h3",{class:"register-head-title"},"Register"),s("sub",{class:"register-head-subtitle"},"Set your password for the asset management account")],-1),j={class:"container-fluid mt-5"},G={class:"mb-4"},K=s("label",{for:"name",class:"form-label"},"Full Name:",-1),X={class:"mb-4"},z=s("label",{for:"email",class:"form-label"},"Email:",-1),Y={class:"mb-4"},Z=s("label",{for:"password",class:"form-label"},"Password:",-1),H={class:"password-field d-flex"},J=["type"],O=["textContent"],Q={class:"mb-4"},W=s("label",{for:"cpassword",class:"form-label"},"Confirm Password:",-1),$={class:"password-field d-flex"},ss=["type"],es=["textContent"],os=s("button",{class:"btn w-100 w-md-50 button-color","data-cy":"register-btn",type:"submit"}," Register ",-1);function ts(t,e,c,_,o,a){const m=u("BaseAlert"),p=u("TogglePassword");return n(),l("div",M,[s("div",q,[D,s("section",I,[s("div",L,[N,s("div",j,[d(m,{submission:o.submission},null,8,["submission"]),s("form",{onSubmit:e[8]||(e[8]=S((...r)=>a.handleSubmit&&a.handleSubmit(...r),["prevent"]))},[s("div",G,[K,i(s("input",{type:"text",class:"form-control",id:"name","onUpdate:modelValue":e[0]||(e[0]=r=>o.name=r),readonly:"","data-cy":"register-name"},null,512),[[w,o.name]])]),s("div",X,[z,i(s("input",{type:"email",class:"form-control",id:"email","onUpdate:modelValue":e[1]||(e[1]=r=>o.email=r),"data-cy":"register-email",readonly:""},null,512),[[w,o.email]])]),s("div",Y,[Z,s("div",H,[i(s("input",{class:"form-control",name:"password",type:[o.password.seen?"text":"password"],id:"password",label:"Password",placeholder:"Set Your Password","onUpdate:modelValue":e[2]||(e[2]=r=>o.password.value=r),onKeyup:e[3]||(e[3]=r=>a.validateField("password")),"data-cy":"register-password"},null,40,J),[[f,o.password.value]]),d(p,{seen:o.password.seen,onClicked:e[4]||(e[4]=r=>a.toggleSeen("password"))},null,8,["seen"])]),o.password.error?(n(),l("div",{key:0,class:"form-text text-danger",textContent:h(o.password.error)},null,8,O)):g("",!0)]),s("div",Q,[W,s("div",$,[i(s("input",{class:"form-control",name:"cpassword",type:[o.cpassword.seen?"text":"password"],id:"cpassword",label:"Confirm Password",placeholder:"Confirm Password","onUpdate:modelValue":e[5]||(e[5]=r=>o.cpassword.value=r),onKeyup:e[6]||(e[6]=r=>a.validateField("cpassword")),"data-cy":"register-cpassword"},null,40,ss),[[f,o.cpassword.value]]),d(p,{seen:o.cpassword.seen,onClicked:e[7]||(e[7]=r=>a.toggleSeen("cpassword"))},null,8,["seen"])]),o.cpassword.error?(n(),l("div",{key:0,class:"form-text text-danger",textContent:h(o.cpassword.error)},null,8,es)):g("",!0)]),os],32)])])])])])}const ns=v(F,[["render",ts]]);export{ns as default};
