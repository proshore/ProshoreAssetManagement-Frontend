import{v as b}from"./validateEmail.4d4a0f2a.js";import{B as y,v as x}from"./validatePassword.dea68539.js";import{B as S}from"./BaseAlert.2ec4fe3e.js";import{l as B}from"./index.3835250f.js";import{_ as w,o as n,c as l,a as s,n as C,r as d,b as c,m as V,f as p,v as k,t as _,g as f,q as I,w as P,e as M,p as T,i as D}from"./index.c1e5c818.js";const E={props:{seen:{type:Boolean,required:!0}}},F={class:"icon"};function L(o,e,m,h,t,i){return n(),l("div",F,[s("i",{class:C(`bi ${m.seen?"bi-eye-fill":"bi-eye-slash-fill"}`),id:"showPassword",onClick:e[0]||(e[0]=u=>o.$emit("clicked")),"data-cy":"toggle-seen"},null,2)])}const A=w(E,[["render",L]]);const N={data(){return{email:{value:"",error:""},password:"",password:{value:"",error:"",seen:!1},submission:{message:"",isVerified:!1}}},components:{BaseInput:y,BaseAlert:S,TogglePassword:A},methods:{formData(){return{email:this.email.value,password:this.password.value}},validateField(o){if(o==="email"){let e=b(this.email.value);this.email.error=e.errorMessage}if(o==="password"){let e=x(this.password.value);this.password.error=e.errorMessage}},async handleSubmit(){if(!this.email.value||!this.password.value)return this.submission.message="Fields must not be empty";if(this.email.error||this.password.error)return this.submission.message="Some fields are not filled properly";try{const o=await B(this.formData());(o.data.success=!0)&&(this.submission.message="Login Successful",this.submission.isVerified=!0,localStorage.setItem("data",o.data.data),setTimeout(()=>{this.$router.push({name:"dashboard"})},2e3))}catch(o){this.submission.message=o}},toggleSeen(){this.password.seen=!this.password.seen}}},r=o=>(T("data-v-83d2a1bf"),o=o(),D(),o),U={class:"container-fluid d-flex justify-content-center"},j={class:"row w-100 border main-container p-3"},q=r(()=>s("section",{class:"col-5 login-img"},null,-1)),K={class:"col-6 mx-3 d-flex justify-content-center align-items-center"},R={class:"w-50"},z=r(()=>s("div",{class:"login-head"},[s("h3",{class:"login-head-title"},"Sign In"),s("sub",{class:"login-head-subtitle"},"Sign In to your Asset Management ")],-1)),Y={class:"container-fluid mt-5"},$={class:"mb-4"},G=r(()=>s("label",{for:"email",class:"form-label"},"Email",-1)),H=["textContent"],J={class:"mb-4"},O=r(()=>s("label",{for:"password",class:"form-label"},"Password:",-1)),Q={class:"password-field d-flex"},W=["type"],X=["textContent"],Z={class:"row my-3"},ss=M("Forgot Password"),es=r(()=>s("button",{class:"btn w-100 button-color","data-cy":"login-btn",href:"/dashboard"}," Sign In ",-1));function os(o,e,m,h,t,i){const u=d("BaseAlert"),g=d("TogglePassword"),v=d("RouterLink");return n(),l("div",U,[s("div",j,[q,s("section",K,[s("div",R,[z,s("div",Y,[c(u,{submission:t.submission},null,8,["submission"]),s("form",{onSubmit:e[5]||(e[5]=V((...a)=>i.handleSubmit&&i.handleSubmit(...a),["prevent"]))},[s("div",$,[G,p(s("input",{type:"email",class:"form-control",id:"email",placeholder:"Example input placeholder","onUpdate:modelValue":e[0]||(e[0]=a=>t.email.value=a),onKeyup:e[1]||(e[1]=a=>i.validateField("email")),"data-cy":"login-email"},null,544),[[k,t.email.value]]),t.email.error?(n(),l("div",{key:0,class:"form-text text-danger",textContent:_(t.email.error)},null,8,H)):f("",!0)]),s("div",J,[O,s("div",Q,[p(s("input",{class:"form-control",name:"password",type:[t.password.seen?"text":"password"],id:"password",label:"Password",placeholder:"Enter Your Password","onUpdate:modelValue":e[2]||(e[2]=a=>t.password.value=a),onKeyup:e[3]||(e[3]=a=>i.validateField("password")),"data-cy":"login-password"},null,40,W),[[I,t.password.value]]),c(g,{seen:t.password.seen,onClicked:e[4]||(e[4]=a=>i.toggleSeen("password"))},null,8,["seen"])]),t.password.error?(n(),l("div",{key:0,class:"form-text text-danger",textContent:_(t.password.error)},null,8,X)):f("",!0)]),s("div",null,[s("div",Z,[c(v,{class:"forgot-password",to:{name:"forgotpassword"},"data-cy":"login-forgot-password"},{default:P(()=>[ss]),_:1})])]),es],32)])])])])])}const ls=w(N,[["render",os],["__scopeId","data-v-83d2a1bf"]]);export{ls as default};
