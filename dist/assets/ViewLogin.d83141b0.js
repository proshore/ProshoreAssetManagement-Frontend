import{v as b}from"./validateEmail.4d4a0f2a.js";import{B as y,v as x}from"./validatePassword.9751c04b.js";import{B as S}from"./BaseAlert.6a67cc3f.js";import{_ as h,o as n,c as l,a as s,n as B,r as d,b as c,m as C,f as p,v as V,t as _,g as f,q as k,w as P,e as I,p as M,i as T}from"./index.746d3dfe.js";const D={props:{seen:{type:Boolean,required:!0}}},E={class:"icon"};function F(o,e,m,w,t,i){return n(),l("div",E,[s("i",{class:B(`bi ${m.seen?"bi-eye-fill":"bi-eye-slash-fill"}`),id:"showPassword",onClick:e[0]||(e[0]=u=>o.$emit("clicked")),"data-cy":"toggle-seen"},null,2)])}const L=h(D,[["render",F]]);const A={data(){return{email:{value:"",error:""},password:"",password:{value:"",error:"",seen:!1},submission:{message:"",isVerified:!1}}},components:{BaseInput:y,BaseAlert:S,TogglePassword:L},methods:{formData(){return{email:this.email.value,password:this.password.value}},validateField(o){if(o==="email"){let e=b(this.email.value);this.email.error=e.errorMessage}if(o==="password"){let e=x(this.password.value);this.password.error=e.errorMessage}},async handleSubmit(){if(!this.email.value||!this.password.value)return this.submission.message="Fields must not be empty";if(this.email.error||this.password.error)return this.submission.message="Some fields are not filled properly";try{const o=await axios.get(" http://localhost:3000/login_users",this.formData());(o.data.success=!0)&&(this.submission.message="Login Successful",this.submission.isVerified=!0,setTimeout(()=>{this.$router.push({name:"dashboard"})},2e3))}catch(o){this.submission.message=o}},toggleSeen(){this.password.seen=!this.password.seen}}},r=o=>(M("data-v-950ce8f2"),o=o(),T(),o),N={class:"container-fluid d-flex justify-content-center"},j={class:"row w-100 border main-container p-3"},q=r(()=>s("section",{class:"col-5 login-img"},null,-1)),K={class:"col-6 mx-3 d-flex justify-content-center align-items-center"},R={class:"w-50"},U=r(()=>s("div",{class:"login-head"},[s("h3",{class:"login-head-title"},"Sign In"),s("sub",{class:"login-head-subtitle"},"Sign In to your Asset Management ")],-1)),z={class:"container-fluid mt-5"},Y={class:"mb-4"},$=r(()=>s("label",{for:"email",class:"form-label"},"Email",-1)),G=["textContent"],H={class:"mb-4"},J=r(()=>s("label",{for:"password",class:"form-label"},"Password:",-1)),O={class:"password-field d-flex"},Q=["type"],W=["textContent"],X={class:"row my-3"},Z=I("Forgot Password"),ss=r(()=>s("button",{class:"btn w-100 button-color","data-cy":"login-btn",href:"/dashboard"}," Sign In ",-1));function es(o,e,m,w,t,i){const u=d("BaseAlert"),g=d("TogglePassword"),v=d("RouterLink");return n(),l("div",N,[s("div",j,[q,s("section",K,[s("div",R,[U,s("div",z,[c(u,{submission:t.submission},null,8,["submission"]),s("form",{onSubmit:e[5]||(e[5]=C((...a)=>i.handleSubmit&&i.handleSubmit(...a),["prevent"]))},[s("div",Y,[$,p(s("input",{type:"email",class:"form-control",id:"email",placeholder:"Example input placeholder","onUpdate:modelValue":e[0]||(e[0]=a=>t.email.value=a),onKeyup:e[1]||(e[1]=a=>i.validateField("email")),"data-cy":"login-email"},null,544),[[V,t.email.value]]),t.email.error?(n(),l("div",{key:0,class:"form-text text-danger",textContent:_(t.email.error)},null,8,G)):f("",!0)]),s("div",H,[J,s("div",O,[p(s("input",{class:"form-control",name:"password",type:[t.password.seen?"text":"password"],id:"password",label:"Password",placeholder:"Enter Your Password","onUpdate:modelValue":e[2]||(e[2]=a=>t.password.value=a),onKeyup:e[3]||(e[3]=a=>i.validateField("password")),"data-cy":"login-password"},null,40,Q),[[k,t.password.value]]),c(g,{seen:t.password.seen,onClicked:e[4]||(e[4]=a=>i.toggleSeen("password"))},null,8,["seen"])]),t.password.error?(n(),l("div",{key:0,class:"form-text text-danger",textContent:_(t.password.error)},null,8,W)):f("",!0)]),s("div",null,[s("div",X,[c(v,{class:"forgot-password",to:{name:"forgotpassword"},"data-cy":"login-forgot-password"},{default:P(()=>[Z]),_:1})])]),ss],32)])])])])])}const rs=h(A,[["render",es],["__scopeId","data-v-950ce8f2"]]);export{rs as default};
