import"./validateEmail.64dd81f6.js";import{B as b}from"./BaseInput.ad1e8d95.js";import{B as y}from"./BaseAlert.ef4f14bc.js";import{l as x}from"./index.6df337ee.js";import{_ as g,o as i,c as l,a as s,n as B,u as S,b as d,e as I,f as p,v as k,t as _,h as f,g as C,w as P,d as V,r as c,p as E,j as T}from"./index.5442508b.js";const A={props:{seen:{type:Boolean,required:!0}}},D={class:"icon"};function L(t,e,m,w,o,r){return i(),l("div",D,[s("i",{class:B(`bi ${m.seen?"bi-eye-fill":"bi-eye-slash-fill"}`),id:"showPassword",onClick:e[0]||(e[0]=u=>t.$emit("clicked")),"data-cy":"toggle-seen"},null,2)])}const M=g(A,[["render",L]]);const N={data(){return{email:{value:"",error:""},password:"",password:{value:"",error:"",seen:!1},submission:{message:"",isVerified:!1}}},components:{BaseInput:b,BaseAlert:y,TogglePassword:M},methods:{formData(){return{email:this.email.value,password:this.password.value}},async handleSubmit(){document.getElementById("loginBtn").disabled="true";const t=S();try{const e=await x(this.formData());e.data.success===!0&&(t.success("Logged into Proshore Asset Management"),this.submission.isVerified=!0,localStorage.setItem("data",e.data.data.token),document.getElementById("loginBtn").disabled=!1,this.$router.push({name:"dashboard"}))}catch{t.error("Email or Password did not match")}},toggleSeen(){this.password.seen=!this.password.seen}}},a=t=>(E("data-v-5e53f645"),t=t(),T(),t),j={class:"container-fluid d-flex justify-content-center"},F={class:"row w-100 border main-container p-3"},U=a(()=>s("section",{class:"col-5 login-img"},null,-1)),$={class:"col-6 mx-3 d-flex justify-content-center align-items-center"},K={class:"w-50"},R=a(()=>s("div",{class:"login-head"},[s("h3",{class:"login-head-title"},"Sign In"),s("sub",{class:"login-head-subtitle"},"Sign In to your Asset Management ")],-1)),q={class:"container-fluid mt-5"},z={class:"mb-4"},Y=a(()=>s("label",{for:"email",class:"form-label"},"Email",-1)),G=["textContent"],H={class:"mb-4"},J=a(()=>s("label",{for:"password",class:"form-label"},"Password:",-1)),O={class:"password-field d-flex"},Q=["type"],W=["textContent"],X=a(()=>s("button",{class:"btn w-100 button-color",id:"loginBtn","data-cy":"login-btn",href:"/dashboard"}," Sign In ",-1)),Z={class:"row my-3"},ee=V("Forgot Password");function se(t,e,m,w,o,r){const u=c("BaseAlert"),h=c("TogglePassword"),v=c("RouterLink");return i(),l("div",j,[s("div",F,[U,s("section",$,[s("div",K,[R,s("div",q,[d(u,{submission:o.submission},null,8,["submission"]),s("form",{onSubmit:e[5]||(e[5]=I((...n)=>r.handleSubmit&&r.handleSubmit(...n),["prevent"])),class:"form-container"},[s("div",z,[Y,p(s("input",{type:"email",class:"form-control",id:"email",placeholder:"Example input placeholder","onUpdate:modelValue":e[0]||(e[0]=n=>o.email.value=n),onKeyup:e[1]||(e[1]=n=>t.validateField("email")),"data-cy":"login-email"},null,544),[[k,o.email.value]]),o.email.error?(i(),l("div",{key:0,class:"form-text text-danger",textContent:_(o.email.error)},null,8,G)):f("",!0)]),s("div",H,[J,s("div",O,[p(s("input",{class:"form-control",name:"password",type:[o.password.seen?"text":"password"],id:"password",label:"Password",placeholder:"Enter Your Password","onUpdate:modelValue":e[2]||(e[2]=n=>o.password.value=n),onKeyup:e[3]||(e[3]=n=>t.validateField("password")),"data-cy":"login-password"},null,40,Q),[[C,o.password.value]]),d(h,{seen:o.password.seen,onClicked:e[4]||(e[4]=n=>r.toggleSeen("password"))},null,8,["seen"])]),o.password.error?(i(),l("div",{key:0,class:"form-text text-danger",textContent:_(o.password.error)},null,8,W)):f("",!0)]),X,s("div",Z,[d(v,{class:"forgot-password",to:{name:"forgotpassword"},"data-cy":"login-forgot-password"},{default:P(()=>[ee]),_:1})])],32)])])])])])}const ie=g(N,[["render",se],["__scopeId","data-v-5e53f645"]]);export{ie as default};
