import{v as b}from"./validateEmail.64dd81f6.js";import{B as y,v as x}from"./validatePassword.14c9ddff.js";import{B}from"./BaseAlert.cfd73006.js";import{l as S}from"./index.6a688f9a.js";import{_,o as r,c as l,a as s,n as I,u as k,b as d,e as C,f as p,v as P,t as f,h as g,g as V,w as E,d as M,r as m,p as L,j as T}from"./index.6db3dab6.js";const A={props:{seen:{type:Boolean,required:!0}}},D={class:"icon"};function F(o,e,c,w,t,n){return r(),l("div",D,[s("i",{class:I(`bi ${c.seen?"bi-eye-fill":"bi-eye-slash-fill"}`),id:"showPassword",onClick:e[0]||(e[0]=u=>o.$emit("clicked")),"data-cy":"toggle-seen"},null,2)])}const N=_(A,[["render",F]]);const j={data(){return{email:{value:"",error:""},password:"",password:{value:"",error:"",seen:!1},submission:{message:"",isVerified:!1}}},components:{BaseInput:y,BaseAlert:B,TogglePassword:N},methods:{formData(){return{email:this.email.value,password:this.password.value}},validateField(o){if(o==="email"){let e=b(this.email.value);this.email.error=e.errorMessage}if(o==="password"){let e=x(this.password.value);this.password.error=e.errorMessage}},async handleSubmit(){if(document.getElementById("loginBtn").disabled="true",!this.email.value||!this.password.value)return this.submission.message="Fields must not be empty";if(this.email.error||this.password.error)return this.submission.message="Some fields are not filled properly";const o=k();try{const e=await S(this.formData());(e.data.success=!0)&&(this.submission.message="Login Successful",o.success("Logged into Proshore Asset Management"),this.submission.isVerified=!0,localStorage.setItem("data",e.data.data.token),document.getElementById("loginBtn").disabled=!1,this.$router.push({name:"dashboard"}))}catch(e){document.getElementById("loginBtn").disabled=!1,this.submission.message=e.response.data.message,o.error("Something went wrong")}},toggleSeen(){this.password.seen=!this.password.seen}}},i=o=>(L("data-v-932f6f36"),o=o(),T(),o),U={class:"container-fluid d-flex justify-content-center"},K={class:"row w-100 border main-container p-3"},R=i(()=>s("section",{class:"col-5 login-img"},null,-1)),q={class:"col-6 mx-3 d-flex justify-content-center align-items-center"},z={class:"w-50"},Y=i(()=>s("div",{class:"login-head"},[s("h3",{class:"login-head-title"},"Sign In"),s("sub",{class:"login-head-subtitle"},"Sign In to your Asset Management ")],-1)),$={class:"container-fluid mt-5"},G={class:"mb-4"},H=i(()=>s("label",{for:"email",class:"form-label"},"Email",-1)),J=["textContent"],O={class:"mb-4"},Q=i(()=>s("label",{for:"password",class:"form-label"},"Password:",-1)),W={class:"password-field d-flex"},X=["type"],Z=["textContent"],ee=i(()=>s("button",{class:"btn w-100 button-color",id:"loginBtn","data-cy":"login-btn",href:"/dashboard"}," Sign In ",-1)),se={class:"row my-3"},oe=M("Forgot Password");function te(o,e,c,w,t,n){const u=m("BaseAlert"),h=m("TogglePassword"),v=m("RouterLink");return r(),l("div",U,[s("div",K,[R,s("section",q,[s("div",z,[Y,s("div",$,[d(u,{submission:t.submission},null,8,["submission"]),s("form",{onSubmit:e[5]||(e[5]=C((...a)=>n.handleSubmit&&n.handleSubmit(...a),["prevent"]))},[s("div",G,[H,p(s("input",{type:"email",class:"form-control",id:"email",placeholder:"Example input placeholder","onUpdate:modelValue":e[0]||(e[0]=a=>t.email.value=a),onKeyup:e[1]||(e[1]=a=>n.validateField("email")),"data-cy":"login-email"},null,544),[[P,t.email.value]]),t.email.error?(r(),l("div",{key:0,class:"form-text text-danger",textContent:f(t.email.error)},null,8,J)):g("",!0)]),s("div",O,[Q,s("div",W,[p(s("input",{class:"form-control",name:"password",type:[t.password.seen?"text":"password"],id:"password",label:"Password",placeholder:"Enter Your Password","onUpdate:modelValue":e[2]||(e[2]=a=>t.password.value=a),onKeyup:e[3]||(e[3]=a=>n.validateField("password")),"data-cy":"login-password"},null,40,X),[[V,t.password.value]]),d(h,{seen:t.password.seen,onClicked:e[4]||(e[4]=a=>n.toggleSeen("password"))},null,8,["seen"])]),t.password.error?(r(),l("div",{key:0,class:"form-text text-danger",textContent:f(t.password.error)},null,8,Z)):g("",!0)]),ee,s("div",se,[d(v,{class:"forgot-password",to:{name:"forgotpassword"},"data-cy":"login-forgot-password"},{default:E(()=>[oe]),_:1})])],32)])])])])])}const de=_(j,[["render",te],["__scopeId","data-v-932f6f36"]]);export{de as default};
